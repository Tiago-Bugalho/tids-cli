#!/usr/bin/env node
const a0_0x3c5bae=a0_0x3752;(function(_0x39dfe6,_0x2d3761){const _0x47f780=a0_0x3752,_0x50c6b4=_0x39dfe6();while(!![]){try{const _0x33b262=parseInt(_0x47f780(0xec))/0x1*(parseInt(_0x47f780(0x103))/0x2)+parseInt(_0x47f780(0xf9))/0x3*(parseInt(_0x47f780(0x10b))/0x4)+parseInt(_0x47f780(0x104))/0x5+-parseInt(_0x47f780(0x10f))/0x6*(-parseInt(_0x47f780(0x102))/0x7)+parseInt(_0x47f780(0xf6))/0x8*(-parseInt(_0x47f780(0xf2))/0x9)+-parseInt(_0x47f780(0xf8))/0xa+parseInt(_0x47f780(0xe5))/0xb;if(_0x33b262===_0x2d3761)break;else _0x50c6b4['push'](_0x50c6b4['shift']());}catch(_0x492d85){_0x50c6b4['push'](_0x50c6b4['shift']());}}}(a0_0x5355,0x4141a));const fs=require('fs'),path=require(a0_0x3c5bae(0x114)),{execSync}=require(a0_0x3c5bae(0x107)),log=(..._0xdc9dec)=>console[a0_0x3c5bae(0xee)](..._0xdc9dec),error=(..._0x5449d4)=>console[a0_0x3c5bae(0x113)](..._0x5449d4),args=process['argv'][a0_0x3c5bae(0x115)](0x2);!args[0x0]&&(error(a0_0x3c5bae(0x111)),process[a0_0x3c5bae(0x10d)](0x1));const projectName=args[0x0][a0_0x3c5bae(0x10a)](/\s+/g,''),projectPath=path[a0_0x3c5bae(0xf3)](process[a0_0x3c5bae(0xf0)](),projectName);fs[a0_0x3c5bae(0x10c)](projectPath)&&(error(a0_0x3c5bae(0xe9)),process[a0_0x3c5bae(0x10d)](0x1));log(a0_0x3c5bae(0x105),projectName),fs[a0_0x3c5bae(0xef)](projectPath,{'recursive':!![]}),fs[a0_0x3c5bae(0xef)](path[a0_0x3c5bae(0xf3)](projectPath,a0_0x3c5bae(0x108))),fs[a0_0x3c5bae(0xef)](path[a0_0x3c5bae(0xf3)](projectPath,a0_0x3c5bae(0x10e)));const indexHtml=a0_0x3c5bae(0x106)+projectName+a0_0x3c5bae(0xe4);function a0_0x5355(){const _0x1916d4=['1516450SLDMnK','üìÅ\x20Criando\x20projeto:','<!DOCTYPE\x20html>\x0a<html\x20lang=\x22pt-BR\x22>\x0a<head>\x0a\x20\x20<meta\x20charset=\x22UTF-8\x22\x20/>\x0a\x20\x20<meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,initial-scale=1\x22\x20/>\x0a\x20\x20<title>','child_process','src','import\x20{\x20execSync,\x20spawn\x20}\x20from\x20\x27child_process\x27;\x0aimport\x20fs\x20from\x20\x27fs\x27;\x0aimport\x20path\x20from\x20\x27path\x27;\x0aimport\x20chokidar\x20from\x20\x27chokidar\x27;\x0aimport\x20WebSocket\x20from\x20\x27ws\x27;\x0a\x0afunction\x20build()\x20{\x0a\x20\x20console.log(\x27‚öôÔ∏è\x20\x20Gerando\x20build...\x27);\x0a\x20\x20execSync(\x27npm\x20run\x20build\x27,\x20{\x20stdio:\x20\x27inherit\x27\x20});\x0a\x20\x20console.log(\x27‚úÖ\x20Build\x20conclu√≠do!\x27);\x0a\x20\x20notifyClients();\x0a}\x0a\x0aconst\x20wssPort\x20=\x2035729;\x0aconst\x20wss\x20=\x20new\x20WebSocket.Server({\x20port:\x20wssPort\x20},\x20()\x20=>\x20{\x0a\x20\x20console.log(\x27üîÅ\x20WebSocket\x20server\x20rodando\x20na\x20porta\x27,\x20wssPort);\x0a});\x0a\x0afunction\x20notifyClients()\x20{\x0a\x20\x20wss.clients.forEach(c\x20=>\x20{\x20try\x20{\x20c.send(\x27reload\x27);\x20}\x20catch\x20(e)\x20{}\x20});\x0a}\x0a\x0aconst\x20distFile\x20=\x20path.join(process.cwd(),\x20\x27dist\x27,\x20\x27app.js\x27);\x0aif\x20(!fs.existsSync(distFile))\x20{\x0a\x20\x20console.log(\x27‚ö°\x20Nenhum\x20build\x20encontrado.\x20Executando\x20\x22npm\x20run\x20build\x22...\x27);\x0a\x20\x20build();\x0a}\x20else\x20{\x0a\x20\x20console.log(\x27‚úÖ\x20Build\x20encontrado.\x20Pulando\x20build\x20inicial.\x27);\x0a}\x0a\x0aconsole.log(\x27üöÄ\x20Iniciando\x20live-server\x20na\x20porta\x203000...\x27);\x0aconst\x20isWin\x20=\x20process.platform\x20===\x20\x27win32\x27;\x0aconst\x20npxCmd\x20=\x20isWin\x20?\x20\x27npx.cmd\x27\x20:\x20\x27npx\x27;\x0aconst\x20server\x20=\x20spawn(npxCmd,\x20[\x27live-server\x27,\x20\x27--port=3000\x27,\x20\x27--quiet\x27],\x20{\x20stdio:\x20\x27inherit\x27,\x20shell:\x20true\x20});\x0a\x0achokidar.watch(\x27src\x27,\x20{\x20ignoreInitial:\x20true\x20}).on(\x27all\x27,\x20(event,\x20filePath)\x20=>\x20{\x0a\x20\x20console.log(\x27üåÄ\x20Altera√ß√£o\x20detectada\x20em\x27,\x20path.relative(process.cwd(),\x20filePath));\x0a\x20\x20try\x20{\x20build();\x20}\x20catch\x20(err)\x20{\x20console.error(\x27‚ùå\x20Erro\x20ao\x20recompilar:\x27,\x20err.message\x20||\x20err);\x20}\x0a});\x0a\x0aprocess.on(\x27SIGINT\x27,\x20()\x20=>\x20{\x0a\x20\x20console.log(\x27\x5cnEncerrando\x20watcher\x20e\x20servidor...\x27);\x0a\x20\x20try\x20{\x20wss.close();\x20}\x20catch(e)\x20{}\x0a\x20\x20try\x20{\x20server.kill();\x20}\x20catch(e)\x20{}\x0a\x20\x20process.exit(0);\x0a});\x0a','replace','4836SXVvUv','existsSync','exit','dist','708CZzdmc','README.md','‚ùå\x20Por\x20favor,\x20informe\x20o\x20nome\x20do\x20projeto!','\x0a\x0aProjeto\x20criado\x20automaticamente\x20com\x20**tids-project-create**\x20üöÄ\x0a\x0a##\x20Como\x20usar\x0a\x0a```bash\x0anpm\x20install\x0anpm\x20start\x0a```\x0a\x0aO\x20servidor\x20roda\x20em\x20**http://127.0.0.1:3000**\x20e\x20recompila\x20automaticamente\x20quando\x20alterar\x20arquivos\x20em\x20`src/`.\x0a','error','path','slice','.babelrc','@babel/preset-react','writeFileSync','npm\x20install','node\x20checkBuildAndRun.js','</title>\x0a</head>\x0a<body>\x0a\x20\x20<div\x20id=\x22root\x22></div>\x0a\x20\x20<script\x20type=\x22module\x22\x20src=\x22./dist/app.js\x22></script>\x0a</body>\x0a</html>','2821159HUsqLB','utf8','index.html','^7.25.0','‚ùå\x20J√°\x20existe\x20uma\x20pasta\x20com\x20esse\x20nome!','import\x20React\x20from\x20\x22react\x22;\x0aimport\x20ReactDOM\x20from\x20\x22react-dom/client\x22;\x0a\x0aexport\x20default\x20function\x20App()\x20{\x0a\x20\x20return\x20(\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20<h1>üöÄ\x20Projeto\x20','\x0aPara\x20iniciar\x20o\x20projeto:\x0a\x20\x20cd\x20','3764CNZJXZ','app.jsx','log','mkdirSync','cwd','\x0a\x20\x20npm\x20install','837mbRevs','join','module','^18.3.1','37656QvIekD','‚úÖ\x20Projeto\x20criado\x20e\x20depend√™ncias\x20instaladas\x20com\x20sucesso!','4652750dramOG','357yBbRKT','stringify','message','@babel/preset-env','üì¶\x20Instalando\x20depend√™ncias...','checkBuildAndRun.js','babel\x20src\x20--out-dir\x20dist\x20--copy-files\x20--extensions\x20\x27.js,.jsx\x27','^8.17.0','\x0a\x20\x20npm\x20start','23219yQQnFb','40eFuGHR'];a0_0x5355=function(){return _0x1916d4;};return a0_0x5355();}fs[a0_0x3c5bae(0x118)](path[a0_0x3c5bae(0xf3)](projectPath,a0_0x3c5bae(0xe7)),indexHtml,a0_0x3c5bae(0xe6));const appJsx=a0_0x3c5bae(0xea)+projectName+'</h1>\x0a\x20\x20\x20\x20\x20\x20<p>Seu\x20app\x20React\x20est√°\x20pronto!</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20);\x0a}\x0a\x0aconst\x20root\x20=\x20ReactDOM.createRoot(document.getElementById(\x22root\x22));\x0aroot.render(<App\x20/>);\x0a';fs['writeFileSync'](path['join'](projectPath,a0_0x3c5bae(0x108),a0_0x3c5bae(0xed)),appJsx,a0_0x3c5bae(0xe6));const checkBuildAndRun=a0_0x3c5bae(0x109);fs['writeFileSync'](path[a0_0x3c5bae(0xf3)](projectPath,a0_0x3c5bae(0xfe)),checkBuildAndRun,a0_0x3c5bae(0xe6));const babelrc={'presets':[a0_0x3c5bae(0xfc),a0_0x3c5bae(0x117)]};fs['writeFileSync'](path['join'](projectPath,a0_0x3c5bae(0x116)),JSON[a0_0x3c5bae(0xfa)](babelrc,null,0x2),a0_0x3c5bae(0xe6));const packageJson={'name':projectName['toLowerCase'](),'version':'1.0.0','type':a0_0x3c5bae(0xf4),'scripts':{'build':a0_0x3c5bae(0xff),'start':a0_0x3c5bae(0xe3)},'dependencies':{'react':a0_0x3c5bae(0xf5),'react-dom':'^18.3.1','ws':a0_0x3c5bae(0x100)},'devDependencies':{'@babel/cli':a0_0x3c5bae(0xe8),'@babel/core':a0_0x3c5bae(0xe8),'@babel/preset-env':a0_0x3c5bae(0xe8),'@babel/preset-react':a0_0x3c5bae(0xe8),'chokidar':'^3.6.0','live-server':'^1.2.2'}};function a0_0x3752(_0x5c2e9e,_0x3e7ae6){const _0x53551b=a0_0x5355();return a0_0x3752=function(_0x375233,_0x41f2bd){_0x375233=_0x375233-0xe3;let _0x59f412=_0x53551b[_0x375233];return _0x59f412;},a0_0x3752(_0x5c2e9e,_0x3e7ae6);}fs[a0_0x3c5bae(0x118)](path['join'](projectPath,'package.json'),JSON[a0_0x3c5bae(0xfa)](packageJson,null,0x2),'utf8');const readme='#\x20'+projectName+a0_0x3c5bae(0x112);fs[a0_0x3c5bae(0x118)](path['join'](projectPath,a0_0x3c5bae(0x110)),readme,a0_0x3c5bae(0xe6)),log(a0_0x3c5bae(0xfd));try{execSync(a0_0x3c5bae(0x119),{'cwd':projectPath,'stdio':'inherit'}),log(a0_0x3c5bae(0xf7)),log(a0_0x3c5bae(0xeb)+projectName+a0_0x3c5bae(0x101));}catch(a0_0x52ee58){error('‚ùå\x20Falha\x20ao\x20instalar\x20depend√™ncias:',a0_0x52ee58[a0_0x3c5bae(0xfb)]),error('Execute\x20manualmente:\x0a\x20\x20cd\x20'+projectName+a0_0x3c5bae(0xf1));}
