#!/usr/bin/env node

const a0_0x5a63d4=a0_0x1f2b;(function(_0x575724,_0x12b9ce){const _0x589edb=a0_0x1f2b,_0x2d4bdb=_0x575724();while(!![]){try{const _0x32c93c=parseInt(_0x589edb(0x192))/0x1+parseInt(_0x589edb(0x1a2))/0x2*(-parseInt(_0x589edb(0x1a8))/0x3)+parseInt(_0x589edb(0x191))/0x4*(-parseInt(_0x589edb(0x195))/0x5)+parseInt(_0x589edb(0x1a5))/0x6*(-parseInt(_0x589edb(0x185))/0x7)+parseInt(_0x589edb(0x1ab))/0x8+parseInt(_0x589edb(0x19e))/0x9+-parseInt(_0x589edb(0x189))/0xa*(-parseInt(_0x589edb(0x186))/0xb);if(_0x32c93c===_0x12b9ce)break;else _0x2d4bdb['push'](_0x2d4bdb['shift']());}catch(_0x528418){_0x2d4bdb['push'](_0x2d4bdb['shift']());}}}(a0_0x543a,0x39534));function a0_0x543a(){const _0x1cfbb7=['checkBuildAndRun.js','ðŸš€\x20Criando\x20projeto\x20\x22','\x0aâœ…\x20InstalaÃ§Ã£o\x20concluÃ­da!','path','red','16FfQKeM','3171FYtONY','join','module','368435DUrCuL','\x22...','green','1.0.0','Exemplo:\x20npx\x20tids-project-create\x20MeuProjeto','exit','toLowerCase','\x0aðŸŽ‰\x20Projeto\x20\x22','inherit','3090276aKHKKQ','argv','yellow','ensureDirSync','5650VAllZo','âŒ\x20Erro\x20ao\x20instalar\x20pacotes.','error','7512MhisgB','âŒ\x20VocÃª\x20precisa\x20informar\x20o\x20nome\x20do\x20projeto!','cd\x20','447GeHSFC','\x0aimport\x20fs\x20from\x20\x22fs\x22;\x0aimport\x20{\x20exec\x20}\x20from\x20\x22child_process\x22;\x0aimport\x20{\x20WebSocketServer\x20}\x20from\x20\x22ws\x22;\x0a\x0aconst\x20distPath\x20=\x20\x22./dist\x22;\x0aconst\x20wssPort\x20=\x208080;\x0a\x0a//\x20FunÃ§Ã£o\x20para\x20rodar\x20comandos\x0afunction\x20run(command)\x20{\x0a\x20\x20return\x20new\x20Promise((resolve,\x20reject)\x20=>\x20{\x0a\x20\x20\x20\x20const\x20proc\x20=\x20exec(command,\x20(error,\x20stdout,\x20stderr)\x20=>\x20{\x0a\x20\x20\x20\x20\x20\x20if\x20(error)\x20reject(error);\x0a\x20\x20\x20\x20\x20\x20else\x20resolve(stdout\x20||\x20stderr);\x0a\x20\x20\x20\x20});\x0a\x20\x20\x20\x20proc.stdout?.pipe(process.stdout);\x0a\x20\x20\x20\x20proc.stderr?.pipe(process.stderr);\x0a\x20\x20});\x0a}\x0a\x0aasync\x20function\x20checkAndRun()\x20{\x0a\x20\x20if\x20(!fs.existsSync(distPath))\x20{\x0a\x20\x20\x20\x20console.log(\x22âš¡\x20Nenhum\x20build\x20encontrado.\x20Executando\x20\x27npm\x20run\x20build\x27...\x22);\x0a\x20\x20\x20\x20await\x20run(\x22npm\x20run\x20build\x22);\x0a\x20\x20}\x0a\x0a\x20\x20console.log(\x22ðŸš€\x20Iniciando\x20servidor...\x22);\x0a\x0a\x20\x20const\x20wss\x20=\x20new\x20WebSocketServer({\x20port:\x20wssPort\x20});\x0a\x20\x20wss.on(\x22connection\x22,\x20(ws)\x20=>\x20{\x0a\x20\x20\x20\x20ws.send(\x22Servidor\x20WebSocket\x20ativo!\x22);\x0a\x20\x20});\x0a\x0a\x20\x20console.log(\x22âœ…\x20Servidor\x20WebSocket\x20ativo\x20na\x20porta\x20\x22\x20+\x20wssPort);\x0a}\x0a\x0acheckAndRun().catch(console.error);\x0a','console.log(\x22âœ…\x20Servidor\x20iniciado\x20com\x20sucesso!\x22);','3254688ufxSgI','cyan','npm\x20install\x20ws\x20fs-extra\x20chalk','cwd','writeFileSync','721SdxTho','1793341oXZRgD','log','index.js','20HTfYbX','node\x20checkBuildAndRun.js','fs-extra'];a0_0x543a=function(){return _0x1cfbb7;};return a0_0x543a();}const fs=require(a0_0x5a63d4(0x18b)),path=require(a0_0x5a63d4(0x18f)),{execSync}=require('child_process'),chalk=require('chalk'),projectName=process[a0_0x5a63d4(0x19f)][0x2];!projectName&&(console[a0_0x5a63d4(0x187)](chalk[a0_0x5a63d4(0x190)](a0_0x5a63d4(0x1a6))),console[a0_0x5a63d4(0x187)](chalk['yellow'](a0_0x5a63d4(0x199))),process[a0_0x5a63d4(0x19a)](0x1));const projectPath=path[a0_0x5a63d4(0x193)](process[a0_0x5a63d4(0x183)](),projectName);console[a0_0x5a63d4(0x187)](chalk[a0_0x5a63d4(0x1ac)](a0_0x5a63d4(0x18d)+projectName+a0_0x5a63d4(0x196))),fs[a0_0x5a63d4(0x1a1)](projectPath);const packageJson={'name':projectName[a0_0x5a63d4(0x19b)](),'version':a0_0x5a63d4(0x198),'type':a0_0x5a63d4(0x194),'scripts':{'start':a0_0x5a63d4(0x18a)},'dependencies':{}};fs[a0_0x5a63d4(0x184)](path[a0_0x5a63d4(0x193)](projectPath,'package.json'),JSON['stringify'](packageJson,null,0x2)),fs[a0_0x5a63d4(0x1a1)](path[a0_0x5a63d4(0x193)](projectPath,'src')),fs['writeFileSync'](path[a0_0x5a63d4(0x193)](projectPath,'src',a0_0x5a63d4(0x188)),a0_0x5a63d4(0x1aa));const checkBuildScript=a0_0x5a63d4(0x1a9);fs['writeFileSync'](path[a0_0x5a63d4(0x193)](projectPath,a0_0x5a63d4(0x18c)),checkBuildScript),console[a0_0x5a63d4(0x187)](chalk[a0_0x5a63d4(0x1a0)]('\x0aðŸ“¦\x20Instalando\x20dependÃªncias\x20necessÃ¡rias...\x0a'));try{execSync(a0_0x5a63d4(0x182),{'cwd':projectPath,'stdio':a0_0x5a63d4(0x19d)}),console['log'](chalk[a0_0x5a63d4(0x197)](a0_0x5a63d4(0x18e)));}catch(a0_0x535d4b){console['log'](chalk[a0_0x5a63d4(0x190)](a0_0x5a63d4(0x1a3))),console[a0_0x5a63d4(0x1a4)](a0_0x535d4b);}function a0_0x1f2b(_0xa1ac4d,_0x386d48){const _0x543a15=a0_0x543a();return a0_0x1f2b=function(_0x1f2bce,_0x559553){_0x1f2bce=_0x1f2bce-0x182;let _0x4bf1d3=_0x543a15[_0x1f2bce];return _0x4bf1d3;},a0_0x1f2b(_0xa1ac4d,_0x386d48);}console[a0_0x5a63d4(0x187)](chalk[a0_0x5a63d4(0x197)](a0_0x5a63d4(0x19c)+projectName+'\x22\x20criado\x20com\x20sucesso!')),console[a0_0x5a63d4(0x187)](chalk[a0_0x5a63d4(0x1ac)]('\x0aðŸ‘‰\x20Para\x20comeÃ§ar:')),console['log'](chalk['yellow'](a0_0x5a63d4(0x1a7)+projectName)),console[a0_0x5a63d4(0x187)](chalk['yellow']('npm\x20start'));
