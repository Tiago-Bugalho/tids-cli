#!/usr/bin/env node
const a0_0xb524a0=a0_0x121b;(function(_0x3584d8,_0x2e04ec){const _0x5332fe=a0_0x121b,_0x2f3df7=_0x3584d8();while(!![]){try{const _0x4a2fca=-parseInt(_0x5332fe(0x1a0))/0x1*(-parseInt(_0x5332fe(0x1d2))/0x2)+-parseInt(_0x5332fe(0x1b3))/0x3+parseInt(_0x5332fe(0x1a7))/0x4+parseInt(_0x5332fe(0x1d5))/0x5+-parseInt(_0x5332fe(0x1b0))/0x6+parseInt(_0x5332fe(0x1a8))/0x7*(parseInt(_0x5332fe(0x1c8))/0x8)+-parseInt(_0x5332fe(0x1d0))/0x9*(parseInt(_0x5332fe(0x1c5))/0xa);if(_0x4a2fca===_0x2e04ec)break;else _0x2f3df7['push'](_0x2f3df7['shift']());}catch(_0x4d5ffd){_0x2f3df7['push'](_0x2f3df7['shift']());}}}(a0_0x3ff6,0x5d72e));const fs=require('fs'),path=require(a0_0xb524a0(0x1ba)),{execSync,spawn}=require(a0_0xb524a0(0x1bb));function log(..._0xe5d3e1){const _0x397721=a0_0xb524a0;console[_0x397721(0x1ce)](..._0xe5d3e1);}function error(..._0x3d52a7){console['error'](..._0x3d52a7);}const args=process[a0_0xb524a0(0x1ab)][a0_0xb524a0(0x1c4)](0x2);!args[0x0]&&(error('‚ùå\x20Por\x20favor,\x20informe\x20o\x20nome\x20do\x20projeto!'),process[a0_0xb524a0(0x1d1)](0x1));function a0_0x121b(_0x2e9e4f,_0x335ae0){const _0x3ff6d3=a0_0x3ff6();return a0_0x121b=function(_0x121b4a,_0x372900){_0x121b4a=_0x121b4a-0x19f;let _0xdb28bd=_0x3ff6d3[_0x121b4a];return _0xdb28bd;},a0_0x121b(_0x2e9e4f,_0x335ae0);}const rawName=args[0x0],projectName=rawName[a0_0xb524a0(0x1c6)](/\s+/g,''),projectPath=path[a0_0xb524a0(0x1a2)](process[a0_0xb524a0(0x1d4)](),projectName);fs[a0_0xb524a0(0x1a3)](projectPath)&&(error(a0_0xb524a0(0x1c9)),process['exit'](0x1));try{log(a0_0xb524a0(0x1cf),projectName),fs[a0_0xb524a0(0x1b4)](projectPath,{'recursive':!![]}),fs[a0_0xb524a0(0x1b4)](path[a0_0xb524a0(0x1a2)](projectPath,a0_0xb524a0(0x1cb)),{'recursive':!![]}),fs['mkdirSync'](path[a0_0xb524a0(0x1a2)](projectPath,a0_0xb524a0(0x1a5)),{'recursive':!![]}),fs[a0_0xb524a0(0x1b4)](path[a0_0xb524a0(0x1a2)](projectPath,a0_0xb524a0(0x1b9)),{'recursive':!![]});const indexHtml=a0_0xb524a0(0x1b8)+projectName+'</title>\x0a</head>\x0a<body>\x0a\x20\x20<div\x20id=\x22root\x22></div>\x0a\x20\x20<script\x20type=\x22module\x22\x20src=\x22./dist/app.js\x22></script>\x0a</body>\x0a</html>';fs[a0_0xb524a0(0x1ca)](path['join'](projectPath,a0_0xb524a0(0x1d3)),indexHtml,'utf8');const appJsx=a0_0xb524a0(0x1a1)+projectName+a0_0xb524a0(0x1bc);fs[a0_0xb524a0(0x1ca)](path[a0_0xb524a0(0x1a2)](projectPath,a0_0xb524a0(0x1cb),a0_0xb524a0(0x1be)),appJsx,a0_0xb524a0(0x1b1));const packageJson={'name':projectName[a0_0xb524a0(0x1ae)](),'version':'1.0.0','type':a0_0xb524a0(0x1c1),'scripts':{'build':a0_0xb524a0(0x1a9),'start':a0_0xb524a0(0x1a6)},'dependencies':{'react':a0_0xb524a0(0x1b2),'react-dom':a0_0xb524a0(0x1b2),'ws':'^8.13.0'},'devDependencies':{'@babel/cli':a0_0xb524a0(0x1cd),'@babel/core':a0_0xb524a0(0x1cd),'@babel/preset-env':a0_0xb524a0(0x1cd),'@babel/preset-react':a0_0xb524a0(0x1c2),'chokidar':'^3.6.0','live-server':'^1.2.2'},'babel':{'presets':[a0_0xb524a0(0x1af),a0_0xb524a0(0x19f)]}};fs[a0_0xb524a0(0x1ca)](path[a0_0xb524a0(0x1a2)](projectPath,a0_0xb524a0(0x1c0)),JSON[a0_0xb524a0(0x1c3)](packageJson,null,0x2),a0_0xb524a0(0x1b1));const checkBuildAndRun='\x27use\x20strict\x27;\x0aconst\x20fs\x20=\x20require(\x27fs\x27);\x0aconst\x20path\x20=\x20require(\x27path\x27);\x0aconst\x20{\x20execSync,\x20spawn\x20}\x20=\x20require(\x27child_process\x27);\x0aconst\x20chokidar\x20=\x20require(\x27chokidar\x27);\x0aconst\x20WebSocket\x20=\x20require(\x27ws\x27);\x0a\x0afunction\x20build()\x20{\x0a\x20\x20console.log(\x27‚öôÔ∏è\x20\x20Gerando\x20build...\x27);\x0a\x20\x20execSync(\x27npm\x20run\x20build\x27,\x20{\x20stdio:\x20\x27inherit\x27\x20});\x0a\x20\x20console.log(\x27‚úÖ\x20Build\x20conclu√≠do!\x27);\x0a\x20\x20notifyClients();\x0a}\x0a\x0aconst\x20wssPort\x20=\x2035729;\x0aconst\x20wss\x20=\x20new\x20WebSocket.Server({\x20port:\x20wssPort\x20},\x20()\x20=>\x20{\x0a\x20\x20console.log(\x27üîÅ\x20WebSocket\x20server\x20para\x20live-reload\x20rodando\x20na\x20porta\x27,\x20wssPort);\x0a});\x0afunction\x20notifyClients()\x20{\x0a\x20\x20wss.clients.forEach(c\x20=>\x20{\x0a\x20\x20\x20\x20try\x20{\x20c.send(\x27reload\x27);\x20}\x20catch\x20(e)\x20{}\x0a\x20\x20});\x0a}\x0a\x0aconst\x20distFile\x20=\x20path.join(process.cwd(),\x20\x27dist\x27,\x20\x27app.js\x27);\x0aif\x20(!fs.existsSync(distFile))\x20{\x0a\x20\x20console.log(\x27‚ö°\x20Nenhum\x20build\x20encontrado.\x20Executando\x20\x22npm\x20run\x20build\x22...\x27);\x0a\x20\x20build();\x0a}\x20else\x20{\x0a\x20\x20console.log(\x27‚úÖ\x20Build\x20encontrado.\x20Pulando\x20build\x20inicial.\x27);\x0a}\x0a\x0aconsole.log(\x27üöÄ\x20Iniciando\x20live-server\x20na\x20porta\x203000\x20(servindo\x20a\x20pasta\x20do\x20projeto)...\x27);\x0aconst\x20isWin\x20=\x20process.platform\x20===\x20\x27win32\x27;\x0aconst\x20npxCmd\x20=\x20isWin\x20?\x20\x27npx.cmd\x27\x20:\x20\x27npx\x27;\x0aconst\x20server\x20=\x20spawn(npxCmd,\x20[\x27live-server\x27,\x20\x27--port=3000\x27,\x20\x27--quiet\x27],\x20{\x0a\x20\x20stdio:\x20\x27inherit\x27,\x0a\x20\x20shell:\x20true\x0a});\x0a\x0a//\x20Watcher:\x20quando\x20src\x20muda,\x20roda\x20build()\x0achokidar.watch(\x27src\x27,\x20{\x20ignoreInitial:\x20true\x20}).on(\x27all\x27,\x20(event,\x20filePath)\x20=>\x20{\x0a\x20\x20console.log(\x27üåÄ\x20Altera√ß√£o\x20detectada\x20em\x27,\x20path.relative(process.cwd(),\x20filePath));\x0a\x20\x20try\x20{\x0a\x20\x20\x20\x20build();\x0a\x20\x20}\x20catch\x20(err)\x20{\x0a\x20\x20\x20\x20console.error(\x27‚ùå\x20Erro\x20ao\x20recompilar:\x27,\x20err\x20&&\x20err.message\x20?\x20err.message\x20:\x20err);\x0a\x20\x20}\x0a});\x0a\x0a//\x20Optional:\x20handle\x20process\x20exit\x0aprocess.on(\x27SIGINT\x27,\x20()\x20=>\x20{\x0a\x20\x20console.log(\x27\x5cnEncerrando\x20watcher\x20e\x20servidor...\x27);\x0a\x20\x20try\x20{\x20wss.close();\x20}\x20catch(e){}\x0a\x20\x20try\x20{\x20server.kill();\x20}\x20catch(e){}\x0a\x20\x20process.exit(0);\x0a});\x0a';fs[a0_0xb524a0(0x1ca)](path[a0_0xb524a0(0x1a2)](projectPath,a0_0xb524a0(0x1c7)),checkBuildAndRun,a0_0xb524a0(0x1b1));const babelrc={'presets':['@babel/preset-env','@babel/preset-react']};fs[a0_0xb524a0(0x1ca)](path[a0_0xb524a0(0x1a2)](projectPath,'.babelrc'),JSON[a0_0xb524a0(0x1c3)](babelrc,null,0x2),a0_0xb524a0(0x1b1));const readme='#\x20'+projectName+a0_0xb524a0(0x1a4);fs[a0_0xb524a0(0x1ca)](path[a0_0xb524a0(0x1a2)](projectPath,a0_0xb524a0(0x1b6)),readme,a0_0xb524a0(0x1b1)),log('üì¶\x20Instalando\x20depend√™ncias\x20no\x20projeto\x20(isso\x20pode\x20demorar\x20um\x20pouco)...');try{execSync(a0_0xb524a0(0x1ad),{'cwd':projectPath,'stdio':'inherit'});}catch(a0_0x34e401){error(a0_0xb524a0(0x1aa),a0_0x34e401[a0_0xb524a0(0x1cc)]||a0_0x34e401),error(a0_0xb524a0(0x1bd)+projectName+'\x20&&\x20npm\x20install'),process[a0_0xb524a0(0x1d1)](0x1);}log(a0_0xb524a0(0x1ac)),log(''),log(a0_0xb524a0(0x1bf)),log('\x20\x20cd',projectName),log(a0_0xb524a0(0x1b5)),log(''),log('Se\x20quiser\x20apenas\x20buildar\x20sem\x20iniciar\x20o\x20servidor:'),log(a0_0xb524a0(0x1b7)),log(''),log('Observa√ß√£o:\x20o\x20projeto\x20usa\x20Babel\x20para\x20transpilar\x20JSX\x20->\x20dist/app.js'),process[a0_0xb524a0(0x1d1)](0x0);}catch(a0_0x27d6d0){error('‚ùå\x20Erro\x20ao\x20criar\x20projeto:',a0_0x27d6d0&&a0_0x27d6d0[a0_0xb524a0(0x1cc)]?a0_0x27d6d0[a0_0xb524a0(0x1cc)]:a0_0x27d6d0),process[a0_0xb524a0(0x1d1)](0x1);}function a0_0x3ff6(){const _0x5650ea=['Para\x20iniciar\x20o\x20servidor\x20com\x20build\x20autom√°tico\x20que\x20observa\x20src/:','package.json','module','^7.25.0','stringify','slice','10vYrmTt','replace','checkBuildAndRun.cjs','1480808rlRBEn','‚ùå\x20J√°\x20existe\x20uma\x20pasta\x20com\x20esse\x20nome!','writeFileSync','src','message','^7.26.0','log','üìÅ\x20Criando\x20projeto:','5684913jPTLwq','exit','412RvotQl','index.html','cwd','1462495ylFnfo','@babel/preset-react','1830lvuRBL','import\x20React\x20from\x20\x22react\x22;\x0aimport\x20ReactDOM\x20from\x20\x22react-dom/client\x22;\x0aimport\x20{\x20coisa\x20}\x20from\x20\x22tids\x22;\x0a\x0aexport\x20default\x20function\x20App()\x20{\x0a\x20\x20return\x20(\x0a\x20\x20\x20\x20<div>\x0a\x20\x20\x20\x20\x20\x20<h1>TIDS\x20JS</h1>\x0a\x20\x20\x20\x20\x20\x20<p>Seu\x20projeto\x20','join','existsSync','\x0a\x0aProjekt\x20criado\x20by\x20tids-project-create.\x0a\x0aRun:\x0a\x0a```bash\x0anpm\x20install\x0anpm\x20start\x0a```\x0a\x0aThe\x20dev\x20server\x20runs\x20on\x20http://127.0.0.1:3000\x20and\x20rebuilds\x20automatically\x20when\x20files\x20in\x20`src/`\x20change.\x0a','dist','node\x20checkBuildAndRun.cjs','1582548hGTTCj','21YYaJKw','babel\x20src\x20--out-dir\x20dist\x20--copy-files\x20--extensions\x20\x22.js,.jsx\x22','‚ùå\x20Falha\x20ao\x20instalar\x20depend√™ncias\x20no\x20projeto:','argv','‚úÖ\x20Projeto\x20criado\x20e\x20depend√™ncias\x20instaladas\x20com\x20sucesso!','npm\x20install','toLowerCase','@babel/preset-env','2906682eJgifz','utf8','^18.3.0','364647LMsYuA','mkdirSync','\x20\x20npm\x20start','README.md','\x20\x20npm\x20run\x20build','<!DOCTYPE\x20html>\x0a<html\x20lang=\x22pt-BR\x22>\x0a<head>\x0a\x20\x20<meta\x20charset=\x22UTF-8\x22\x20/>\x0a\x20\x20<meta\x20name=\x22viewport\x22\x20content=\x22width=device-width,initial-scale=1\x22\x20/>\x0a\x20\x20<title>','modules','path','child_process','\x20est√°\x20pronto.</p>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20);\x0a}\x0a\x0aconst\x20rootEl\x20=\x20document.getElementById(\x22root\x22);\x0aconst\x20root\x20=\x20ReactDOM.createRoot(rootEl);\x0aroot.render(<App\x20/>);','Tente\x20entrar\x20na\x20pasta\x20e\x20rodar\x20manualmente:\x0a\x20\x20cd\x20','app.jsx'];a0_0x3ff6=function(){return _0x5650ea;};return a0_0x3ff6();}
